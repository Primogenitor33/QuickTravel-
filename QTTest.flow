import ("QT/Chk_Access/Chk_Access_GekkoukanHigh.flow");
import ("QT/Chk_Access/Chk_Access_PaulowniaMall.flow");
import ("QT/Chk_Access/Chk_Access_IwatodaiStation.flow");
import ("QT/School.flow");
import ("QT/Mall.flow");
import ("QT/Iwatodai.flow");
import ("QT/Chk_Access/Chk_Access.msg");
import ("QuickTravel.msg");
void QuickTravelDisplay()
{
	switch(GET_FIELD_MAJOR())
	{
		case 6: // Gekkoukan High
			SchoolTravel();
			break;
		case 8: // Paulownia Mall
			MallTravel();
			break;
		case 9: // Iwatodai Station
			IwatodaiTravel();
			break;
		default:
			field_order_party_unhooked();
			break;
	}
}

void No_QuickTravel()
{
	OPEN_MSG_WIN();
	MSG( No_QT );
	CLOSE_MSG_WIN();
}

void SchoolTravel()
{
	bool selecting = true;
	int page = 1;
	while(selecting)
	{
		switch(page)
		{	
			case 0:
				selecting = false;
				break;
			case 1:
				page = SchoolTravel1();
				break;
			case 2:
				page = SchoolTravel2();
				break;
			case 3:
				page = SchoolTravel3();
				break;
			 default:
				break;
		}
	}
	return;
}

int SchoolTravel1()
{
	if( ( BIT_CHK( 3680 ) ) == 1 && ( BIT_CHK( 72 ) == 1 ) )
	{
		OPEN_MSG_WIN();
		MSG( STOP_TEACHERS_ROOM );
		CLOSE_MSG_WIN();
		return 0;
	}
	else if( BIT_CHK( 3680 ) == 1 )
	{
		Chk_Access_GekkoukanHigh_004_005();
		return 0;
	}
	OPEN_MSG_WIN();
	MSG( Choose );
	FUNCTION_00B7(0);
	FUNCTION_011C(12, Page1of3);
	//Close menu on Circle
	SEL_CHK_PAD(6,20);
	//Open map on Select
	SEL_CHK_PAD(8,6);
	//Open shop on Start
	SEL_CHK_PAD(11,7);
	//Next Page on D-Pad Right
	SEL_CHK_PAD(13,4);
	//Previous Page on D-Pad Left
	SEL_CHK_PAD(15,5);
	int select = SEL( School );
	CLOSE_MSG_WIN();
	switch (select)
	{
		case 0: // School Entranceway
			SchoolEntrance();
			break;
		case 1: // 1st Floor, Main Lobby
			SchoolLobby();
			break;
		case 2: // 1st Floor, Faculty Hall
			SchoolFacultyHall();
			break;
		case 3: //1st Floor, Laboratory Hall
			SchoolLaboratoryHall();
			break;
		case 4: // Next Page (D-Pad Right)
			return 2;
		case 5: //Previous Page (D-Pad Left)
			return 3;
		case 6: // Town Map (Select)
			SchoolMap();
			break;
		case 7: //Shop (Start)
			SchoolShop();
			break;
		default:
			break;
	}
	return 0;
}

int SchoolTravel2()
{
	OPEN_MSG_WIN();
	MSG( Choose );
	FUNCTION_00B7(0);
	FUNCTION_011C(12, Page2of3);
	//Close menu on Circle
	SEL_CHK_PAD(6,20);
	//Open map on Select
	SEL_CHK_PAD(8,6);
	//Open shop on Start
	SEL_CHK_PAD(11,7);
	//Next Page on D-Pad Right
	SEL_CHK_PAD(13,4);
	//Previous Page on D-Pad Left
	SEL_CHK_PAD(15,5);
	int select = SEL( School2 );
	CLOSE_MSG_WIN();
	switch (select)
	{
		case 0 : // 1st Floor, Corridor
			SchoolCorridor();
			break;
		case 1 : // Sports Hall
			SchoolSportsHall();
			break;
		case 2: // 2nd Floor, Hallway
			SchoolSecondHall();
			break;
		case 3: // Classrom 2-F
			SchoolHomeroom();
			break;
		case 4: // Next Page (D-Pad Right)
			return 3;
		case 5: //Previous Page (D-Pad Left)
			return 1;
		case 6: // Town Map (Select)
			SchoolMap();
			break;
		case 7: //Shop (Start)
			SchoolShop();
			break;
		default:
			break;
	}
	return 0;
}

int SchoolTravel3()
{
	OPEN_MSG_WIN();
	MSG( Choose );
	FUNCTION_00B7(0);
	FUNCTION_011C(12, Page3of3);
	//Close menu on Circle
	SEL_CHK_PAD(6,20);
	//Open map on Select
	SEL_CHK_PAD(8,6);
	//Open shop on Start
	SEL_CHK_PAD(11,7);
	//Next Page on D-Pad Right
	SEL_CHK_PAD(13,4);
	//Previous Page on D-Pad Left
	SEL_CHK_PAD(15,5);
	int select = SEL( School3 );
	CLOSE_MSG_WIN();
	switch (select)
	{
		case 0: // Rooftop
			SchoolRooftop();
			break;
		case 1: // School Shop
			SchoolShop();
			break;
		case 2: // Town Map
			SchoolMap();
			break;
		case 4: // Next Page (D-Pad Right)
			return 1;
		case 5: //Previous Page (D-Pad Left)
			return 2;
		case 6: // Town Map (Select)
			SchoolMap();
			break;
		case 7: //Shop (Start)
			SchoolShop();
			break;
		default:
			break;
	}
	return 0;
}

void MallTravel()
{
	bool operation = ( GET_MONTH() == 9 ) && ( GET_DAY_OF_MONTH() == 5 ) && ( FUNCTION_0083() == 8 );
	if(operation)
	{
		Chk_Access_PaulowniaMall_001_002();
		return;
	}
	OPEN_MSG_WIN();
	MSG( Choose );
	FUNCTION_00B7(0);
	FUNCTION_011C(12, Page1of1);
	//Close menu on Circle
	SEL_CHK_PAD(6,20);
	//Open map on Select
	SEL_CHK_PAD(8,6);
	//Open shops on Start
	SEL_CHK_PAD(11,7);
	int select = SEL( Mall );
	CLOSE_MSG_WIN();
	if (select < 2)
	{
		FADE( 3, 0 );
		FADE_SYNC();
	}
	switch (select)
	{
		case 0: // Paulownia Mall
			MallLobby();
			break;
		case 1: // Back Alley
			MallAlley();
			break;	
		case 2: // Facilities
			MallFacilities();
			break;
		case 3: // Town Map
			MallMap();
			break;
		case 6: //Town Map (Select)
			MallMap();
			break;
		case 7: //Shops (Start)
			MallFacilities();
			break;
		default:
			break;
	}
	return;
}

void MallFacilities()
{
	bool selecting = true;
	int page = 1;
	while(selecting)
	{
		switch(page)
		{	
			case 0:
				selecting = false;
				break;
			case 1:
				page = MallFacilities1();
				break;
			case 2:
				page = MallFacilities2();
				break;
			case 3:
				page = MallFacilities3();
				break;
			 default:
				break;
		}
	}
	return;
}

int MallFacilities1()
{
	OPEN_MSG_WIN();
	MSG( Choose );
	FUNCTION_00B7(0);
	FUNCTION_011C(12, Page1of3);
	//Close menu on Circle
	SEL_CHK_PAD(6,20);
	//Open map on Select
	SEL_CHK_PAD(8,6);
	//Next Page on D-Pad Right
	SEL_CHK_PAD(13,4);
	//Previous Page on D-Pad Left
	SEL_CHK_PAD(15,5);
	int select = SEL( MallFacilities );
	CLOSE_MSG_WIN();
	switch (select)
	{
		case 0: // Velvet Room
			MallVelvet();
			break;
		case 1: // Club Escapade
			MallClub();
			break;
		case 2: // Coffee
			MallCoffee();
			break;
		case 3: // Be blue V
			MallAccessory();
			break;
		case 4: // Next Page (D-Pad Right)
			return 2;
		case 5: //Previous Page (D-Pad Left)
			return 3;
		case 6: //Town Map (Select)
			MallMap();
			break;
		default:
			break;
	}
	return 0;
}

int MallFacilities2()
{
	OPEN_MSG_WIN();
	MSG( Choose );
	FUNCTION_00B7(0);
	FUNCTION_011C(12, Page2of3);
	//Close menu on Circle
	SEL_CHK_PAD(6,20);
	//Open map on Select
	SEL_CHK_PAD(8,6);
	//Next Page on D-Pad Right
	SEL_CHK_PAD(13,4);
	//Previous Page on D-Pad Left
	SEL_CHK_PAD(15,5);
	int select = SEL( MallFacilities2 );
	CLOSE_MSG_WIN();
	switch (select)
	{
		case 0: // Police Station
			MallPolice();
			break;
		case 1: // Karaoke
			MallKaraoke();
			break;
		case 2: // Antique Store
			MallAntique();
			break;
		case 3: // Drug Store
			MallDrug();
			break;
		case 4: // Next Page (D-Pad Right)
			return 3;
		case 5: //Previous Page (D-Pad Left)
			return 1;
		case 6: //Town Map (Select)
			MallMap();
			break;
		default:
			break;
	}
	return 0;
}

int MallFacilities3()
{
	OPEN_MSG_WIN();
	MSG( Choose );
	FUNCTION_00B7(0);
	FUNCTION_011C(12, Page3of3);
	//Close menu on Circle
	SEL_CHK_PAD(6,20);
	//Open map on Select
	SEL_CHK_PAD(8,6);
	//Next Page on D-Pad Right
	SEL_CHK_PAD(13,4);
	//Previous Page on D-Pad Left
	SEL_CHK_PAD(15,5);
	int select = SEL( MallFacilities3 );
	CLOSE_MSG_WIN();
	switch (select)
	{
		case 0: // Crane Game
			MallCrane();
			break;
		case 1: // Arcade
			MallArcade();
			break;
		case 4: // Next Page (D-Pad Right)
			return 1;
		case 5: //Previous Page (D-Pad Left)
			return 2;
		case 6: //Town Map (Select)
			MallMap();
			break;
		default:
			break;
	}
	return 0;
}

void IwatodaiTravel()
{
	bool selecting = true;
	int page = 1;
	while(selecting)
	{
		switch(page)
		{	
			case 0:
				selecting = false;
				break;
			case 1:
				page = IwatodaiTravel1();
				break;
			case 2:
				page = IwatodaiTravel2();
				break;
			 default:
				break;
		}
	}
	return;
}

int IwatodaiTravel1()
{
	bool operation = ( GET_MONTH() == 10 ) && ( GET_DAY_OF_MONTH() == 4 ) && ( FUNCTION_0083() == 8 );
	if(operation)
	{
		Chk_Access_IwatodaiStation_001_002();
		return 0;
	}
	OPEN_MSG_WIN();
	MSG( Choose );
	FUNCTION_00B7(0);
	FUNCTION_011C(12, Page1of2);
	//Close menu on Circle
	SEL_CHK_PAD(6,20);
	//Open map on Select
	SEL_CHK_PAD(8,6);
	//Open shops on Start
	SEL_CHK_PAD(11,7);
	//Next Page on D-Pad Right
	SEL_CHK_PAD(13,4);
	//Previous Page on D-Pad Left
	SEL_CHK_PAD(15,5);
	int select = SEL( Iwatodai );
	CLOSE_MSG_WIN();
	switch (select)
	{
		case 0: // Iwatodai Station
			IwatodaiStation();
			break;
		case 1: // Iwatodai Strip Mall, Ground Floor
			IwatodaiGroundFloor();
			break;
		case 2: // Iwatodai Strip Mall, Upper Floors
			IwatodaiUpperFloor();
			break;
		case 4: // Next Page (D-Pad Right)
			return 2;
		case 5: //Previous Page (D-Pad Left)
			return 2;
		case 6: //Town Map (Select)
			IwatodaiMap();
			break;
		case 7: //Shops (Start)
			IwatodaiFacilities();
			break;
		default:
			break;
	}
	return 0;
}

int IwatodaiTravel2()
{
	OPEN_MSG_WIN();
	MSG( Choose );
	FUNCTION_00B7(0);
	FUNCTION_011C(12, Page2of2);
	//Close menu on Circle
	SEL_CHK_PAD(6,20);
	//Open map on Select
	SEL_CHK_PAD(8,6);
	//Open shops on Start
	SEL_CHK_PAD(11,7);
	//Next Page on D-Pad Right
	SEL_CHK_PAD(13,4);
	//Previous Page on D-Pad Left
	SEL_CHK_PAD(15,5);
	int select = SEL( Iwatodai2 );
	CLOSE_MSG_WIN();
	switch (select)
	{
		case 0: // Facilities
			IwatodaiFacilities();
			break;
		case 1: // Town Map
			IwatodaiMap();
			break;
		case 4: // Next Page (D-Pad Right)
			return 1;
		case 5: //Previous Page (D-Pad Left)
			return 1;
		case 6: //Town Map (Select)
			IwatodaiMap();
			break;
		case 7: //Shops (Start)
			IwatodaiFacilities();
			break;
		default:
			break;
	}
	return 0;
}

void IwatodaiFacilities()
{
	OPEN_MSG_WIN();
	MSG( Choose );
	FUNCTION_00B7(0);
	FUNCTION_011C(12, Page1of2);
	//Close menu on Circle
	SEL_CHK_PAD(6,20);
	//Open map on Select
	SEL_CHK_PAD(8,6);
	int select = SEL( IwatodaiFacilities );
	CLOSE_MSG_WIN();
	switch (select)
	{
		case 0: // Duck
			WildDuck();
			break;
		case 1: // Wakatsu
			Wakatsu();
			break;
		case 2: // Hagakure
			Hagakure();
			break;
		case 3: // Octopia
			Octopia();
			break;
		case 6: //Town Map (Select)
			IwatodaiMap();
			break;
		default:
			break;
	}
	return;
}